extends ../layout-website-redesign

block vars
	- isWebsiteRedesign = true

block content
	main#main-content.content
		.container
			.row
				.registration-message
					if sharedProjectData.user_first_name !== undefined
						h1 #{translate("user_wants_you_to_see_project", {username:sharedProjectData.user_first_name, projectname:""})}
							em #{sharedProjectData.project_name}
						div
							| #{translate("join_sl_to_view_project")}.
						div
							| #{translate("already_have_sl_account")}
							|
							a(href='/login') #{translate("login_here")}
					else if newTemplateData.templateName !== undefined
						h1 #{translate("register_to_edit_template", {templateName:newTemplateData.templateName})}

						div #{translate("already_have_sl_account")}
							|
							a(href='/login') #{translate("login_here")}

			.row
				.col-lg-6.offset-lg-3.col-xl-4.offset-xl-4
					.page-header
						h1 #{translate("register")}
					form(name='registerForm' data-ol-async-form action='/register' method='POST')
						input(name='_csrf' type='hidden' value=csrfToken)
						+formMessagesNewStyle
						.form-group
							label(for='email') #{translate("email")}
							input#email.form-control(
								name='email'
								type='email'
								required
								autofocus='true'
								autocomplete='email'
								placeholder='email@example.com'
							)
						.form-group
							label(for='password') #{translate("password")}
							input#password.form-control(
								name='password'
								type='password'
								autocomplete='new-password'
								required
								minlength='8'
								placeholder='Enter a secure password'
							)
							small.form-text.text-muted Password must be at least 8 characters
						.actions.mt-3
							button.btn-primary.btn.w-100(type='submit' data-ol-disabled-inflight)
								span(data-ol-inflight='idle') #{translate("register")}
								span(hidden data-ol-inflight='pending') Creating account...
						.mt-3.text-center
							span #{translate("already_have_sl_account")}
							|
							a(href='/login') #{translate("login_here")}
